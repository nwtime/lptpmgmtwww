<!doctype html><html lang=en><head><meta charset=utf-8><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=canonical href=https://libptpmgmt.nwtime.org/documentation/std_vectors/><meta property="og:title" content="C++ std::vector<> map in Scripts Languages"><meta property="og:description" content="Using C++ std::vector<> when developing the libptpmgmt library."><meta property="og:type" content="article"><meta property="og:url" content="https://libptpmgmt.nwtime.org/documentation/std_vectors/"><meta property="og:image" content="https://libptpmgmt.nwtime.org/images/featured.webp"><meta property="article:section" content="documentation"><meta property="og:site_name" content="libptpmgmt Project"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://libptpmgmt.nwtime.org/images/featured.webp"><meta name=twitter:title content="C++ std::vector<> map in Scripts Languages"><meta name=twitter:description content="Using C++ std::vector<> when developing the libptpmgmt library."><script>window.onload=demo;function demo(){document.getElementById("gsc-i-id1").setAttribute("placeholder","Search...")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZS2KYK96FM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-ZS2KYK96FM',{anonymize_ip:!0})</script><script type=text/javascript>(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},c=e.createElement(f),c.async=1,c.src="https://www.clarity.ms/tag/"+g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","gq2gputi6e")</script><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel=stylesheet><title>C++ std::vector&lt;> map in Scripts Languages</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Using C++ std::vector<> when developing the libptpmgmt library."><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=/scss/nwtime.min.30ce324c1fee6b509c0ef581e3577d7a.css media=screen></head><body><nav class="navbar navbar-expand-lg navbar-light"><div class=container-fluid><div><a class=navbar-brand href=https://www.nwtime.org><img height=80 width=80 src=https://libptpmgmt.nwtime.org/images/logo.png alt></a>
<a class=navbar-brand style=color:#1a79c0!important;font-size:18px;font-weight:700;margin-left:20px href=https://libptpmgmt.nwtime.org/>libptpmgmt Project</a></div><div><button class="btn btn-light btn-lg" type=button aria-expanded=false><a class=nav-item style=text-decoration:none;text-transform:uppercase href=https://libptpmgmt.nwtime.org/documentation/>Documentation</a></button></div><script async src="https://cse.google.com/cse.js?cx=7474c4c5ca53f79ef"></script><div class=gcse-search></ul></div></nav><div class=header-border></div><section class="section pt-0 pb-auto"><div class=container><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://libptpmgmt.nwtime.org/documentation/>Documentation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://libptpmgmt.nwtime.org/documentation/std_vectors/>C++ std::vector&lt;> map in Scripts Languages</a></li></ol></nav><h1 id=c-stdvector-map-in-scripts-languages>C++ std::vector&lt;> map in Scripts Languages</h1><p>We use C++ <code>std::vector&lt;T></code> when we need an array or a list. The benefits of the <code>std::vector&lt;T></code>, are:</p><ol><li>C++ manages the memory for us. We don&rsquo;t need to allocate or free.</li><li>The vector can grow as we do not need to allocate on advance.</li></ol><p>In the following discussion we shall call:</p><ul><li><em><strong>&lsquo;container&rsquo;</strong></em> to the mapped class in scripts.</li><li><em><strong>&lsquo;element&rsquo;</strong></em> to the C++ class, we use in the container.</li></ul><p>SWIG does a special translation of <code>std::vector&lt;T></code> in a way which differs from one script language to another. In addition, SWIG requires explicit announcement for the mapping.</p><p>Currently the following <code>std::vector&lt;T></code> maps are announced in <code>libptpmgmt.i</code>:</p><table><thead><tr><th>Class name in scripts</th><th>C++ <code>std::vector&lt;T></code></th><th>header</th></tr></thead><tbody><tr><td>FaultRecord_v</td><td>FaultRecord_t</td><td>types.h</td></tr><tr><td>ClockIdentity_v</td><td>ClockIdentity_t</td><td>types.h</td></tr><tr><td>PortAddress_v</td><td>PortAddress_t</td><td>types.h</td></tr><tr><td>AcceptableMaster_v</td><td>AcceptableMaster_t</td><td>types.h</td></tr><tr><td>LinuxptpUnicastMaster_v</td><td>LinuxptpUnicastMaster_t</td><td>types.h</td></tr><tr><td>PtpEvent_v</td><td>PtpEvent_t</td><td>ptp.h</td></tr><tr><td>PtpSample_v</td><td>PtpSample_t</td><td>ptp.h</td></tr><tr><td>PtpSampleExt_v</td><td>PtpSampleExt_t</td><td>ptp.h</td></tr><tr><td>SigTime</td><td>SLAVE_RX_SYNC_TIMING_DATA_rec_t</td><td>sig.h</td></tr><tr><td>SigComp</td><td>SLAVE_RX_SYNC_COMPUTED_DATA_rec_t</td><td>sig.h</td></tr><tr><td>SigEvent</td><td>SLAVE_TX_EVENT_TIMESTAMPS_rec_t</td><td>sig.h</td></tr><tr><td>SigDelay</td><td>SLAVE_DELAY_TIMING_DATA_NP_rec_t</td><td>sig.h</td></tr></tbody></table><p>The container can be part of another class or structure. For example, <code>std::vector&lt;FaultRecord_t></code> is part of <code>FAULT_LOG_t</code>, the structure used for <code>FAULT_LOG</code> Managment TLV.</p><p>It could be an argument of a function. For example, <code>std::vector&lt;PtpEvent_t></code> is an argument of <code>readEvents()</code>.</p><hr><h1 id=container-constructors>Container Constructors</h1><p>The allocation and release of both container and element are done in the same way we allocate other SWIG classes. The container provides the following constructors, following <code>std::vector&lt;></code> constructors.</p><table><thead><tr><th>#</th><th>result</th><th>argument 1</th><th>argument 2</th></tr></thead><tbody><tr><td>0</td><td>empty</td><td></td><td></td></tr><tr><td>1</td><td>copy constructor</td><td>container</td><td></td></tr><tr><td>1</td><td>insert default elements</td><td>number</td><td></td></tr><tr><td>2</td><td>copies of element</td><td>number</td><td>element</td></tr></tbody></table><blockquote><p>PHP does not support the last, 2 arguments constructor!</p></blockquote><hr><h1 id=comparison-of-c-class-methods-with-scripts>Comparison of C++ Class Methods with Scripts</h1><p>The C++ column lists the methods of <a href=https://en.cppreference.com/w/cpp/container/vector><code>std::vector&lt;></code></a>.</p><p><code>-NA-</code> means the method is not available.</p><p>Python and Ruby support more methods.</p><table><thead><tr><th>C++</th><th>Perl</th><th>PHP</th><th>Tcl</th><th>Go</th><th>Lua</th><th>Python</th><th>Ruby</th></tr></thead><tbody><tr><td>size</td><td>size</td><td>size</td><td>size</td><td>Size</td><td>size</td><td>size</td><td>size</td></tr><tr><td>empty</td><td>empty</td><td>is_empty</td><td>empty</td><td>IsEmpty</td><td>empty</td><td>empty</td><td>empty?</td></tr><tr><td>clear</td><td>clear</td><td>clear</td><td>clear</td><td>Clear</td><td>clear</td><td>clear</td><td>clear</td></tr><tr><td>push_back</td><td>push</td><td>push</td><td>push</td><td>Add</td><td>push_back</td><td>push_back</td><td>push</td></tr><tr><td>back+pop_back</td><td>pop</td><td>pop</td><td>pop</td><td>-NA-</td><td>-NA-</td><td>pop</td><td>pop</td></tr><tr><td>back</td><td>-NA-</td><td>-NA-</td><td>-NA-</td><td>-NA-</td><td>back</td><td>back</td><td>back</td></tr><tr><td>pop_back</td><td>-NA-</td><td>-NA-</td><td>-NA-</td><td>-NA-</td><td>pop_back</td><td>pop_back</td><td>-NA-</td></tr><tr><td>front</td><td>-NA-</td><td>-NA-</td><td>-NA-</td><td>-NA-</td><td>front</td><td>front</td><td>front</td></tr><tr><td>[]</td><td>get</td><td>get</td><td>get</td><td>Get</td><td>[]</td><td>[]</td><td>[]</td></tr><tr><td>[]=</td><td>set</td><td>set</td><td>set</td><td>Set</td><td>[]=</td><td>[]=</td><td>[]=</td></tr><tr><td>capacity</td><td>-NA-</td><td>capacity</td><td>-NA-</td><td>Capacity</td><td>-NA-</td><td>capacity</td><td>capacity</td></tr><tr><td>reserve</td><td>-NA-</td><td>reserve</td><td>-NA-</td><td>Reserve</td><td>-NA-</td><td>reserve</td><td>reserve</td></tr><tr><td>max_size</td><td>-NA-</td><td>-NA-</td><td>-NA-</td><td>-NA-</td><td>max_size</td><td>-NA-</td><td>-NA-</td></tr></tbody></table><hr><h1 id=more-documentation>More Documentation</h1><p>The container in Python acts as list and in Ruby as array.</p><ul><li><a href=https://docs.python.org/3/tutorial/datastructures.html>Python list</a></li><li><a href=https://ruby-doc.org/core/Array.html>Ruby array</a></li></ul><p>Perl, Lua, PHP, Tcl, and Go use only the methods declared in <code>vecDef.h</code>. See the <a href=https://erezgeva.github.io/libptpmgmt/vecDef_8h.html>documentation of <code>vecDef.h</code></a> for more details on the container methods.</p></div></section><nav class="site-footer navbar navbar-expand-sm mt-auto"><div class=container><ul class=navbar-nav><li class=nav-item title="libpmc mailing list" aria-label="libpmc mailing list"><a class=nav-link target=_blank rel="noopener noreferrer" href=https://sourceforge.net/p/libptpmgmt/mailman/libpmc-discuss/><img src=/images/icons/envelope.svg width=20 height=20></img></a></li></ul><ul class="mx-auto pt-3"><p>&copy; 2024 <a class="navbar-text text-white" href=https://www.nwtime.org>Network Time Foundation</a></p></ul></div></nav></body></html>